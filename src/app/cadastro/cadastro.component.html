
<div class="container">
    <div class="row" *ngIf="mensagem">
        <div class="col-12">
            <app-mensagem tipo="success">{{mensagem}}</app-mensagem>
        </div>
    </div>
    <div class="row">
            <form class="col-7" (ngSubmit)="salvar()" [formGroup]="formCadastro">
                <div class="form-group">
                    <label for="titulo">Título</label>
                    <input 
                        id="titulo"
                        class="form-control"
                        [(ngModel)]="foto.titulo"
                        name="titulo"
                        required
                        formControlName="titulo"
                        >
                    <div *ngIf="formCadastro.controls.titulo.invalid">
                        <span *ngIf="formCadastro.controls.titulo.errors.required" class="form-control alert-danger">Título obrigatório.</span>
                        <span *ngIf="formCadastro.controls.titulo.errors.minlength" class="form-control alert-danger">Título deve ter no mínimo 3 caracteres.</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="url">Url</label>
                    <input
                        class="form-control"
                        [(ngModel)]="foto.url"
                        name="url"
                        id="url"
                        required
                        formControlName="url">
                    <span class="alert alert-danger" *ngIf="formCadastro.controls.url.invalid">
                        URL obrigatório
                    </span>
                </div>
                <div class="form-group">
                    <label for="descricao">Descrição</label>
                    <textarea
                        class="form-control"
                        [(ngModel)]="foto.descricao"
                        name="descricao"
                        id="descricao"
                        required
                        formControlName="descricao">
                        {{ foto.descricao }}
                    </textarea>
                    <span class="alert alert-danger" *ngIf="formCadastro.controls.descricao.invalid">
                        URL obrigatório
                    </span>
                </div>
                <a routerLink="" class="btn btn-secondary">Voltar</a>
            
                <button type="submit" class="btn btn-primary" [disabled]="formCadastro.invalid">Salvar</button>
            </form>
            
            <aside class="col-5">
                <app-painel titulo="{{foto.titulo | uppercase}}">
                    <app-foto url="{{ foto.url }}" titulo="{{ foto.titulo }}"></app-foto>
                </app-painel>
            </aside>
    </div>
</div>
